{"version":3,"sources":["/Users/elicharlese/CascadeProjects/AGENT/app/auth/page.tsx"],"sourcesContent":["import { redirect } from 'next/navigation'\nimport { getSupabaseServer } from '@/lib/supabase/server'\nimport { LoginForm } from '@/components/login-form'\n\nexport default async function AuthPage({\n  searchParams,\n}: {\n  searchParams: Promise<{ returnTo?: string }> | { returnTo?: string }\n}) {\n  const sp = await (searchParams as Promise<{ returnTo?: string }> | { returnTo?: string })\n  const returnTo = (sp as { returnTo?: string }).returnTo\n\n  const supabase = await getSupabaseServer()\n  const { data: { session } } = await supabase.auth.getSession()\n\n  if (session) {\n    const safePath = returnTo && returnTo.startsWith('/') && !returnTo.startsWith('//') ? returnTo : '/messages'\n    redirect(safePath)\n  }\n\n  return <LoginForm returnTo={returnTo ?? '/messages'} />\n}\n"],"names":["AuthPage","searchParams","sp","returnTo","supabase","getSupabaseServer","data","session","auth","getSession","safePath","startsWith","redirect","LoginForm"],"mappings":";;;;+BAIA;;;eAA8BA;;;;4BAJL;wBACS;2BACR;AAEX,eAAeA,SAAS,EACrCC,YAAY,EAGb;IACC,MAAMC,KAAK,MAAOD;IAClB,MAAME,WAAW,AAACD,GAA6BC,QAAQ;IAEvD,MAAMC,WAAW,MAAMC,IAAAA,yBAAiB;IACxC,MAAM,EAAEC,MAAM,EAAEC,OAAO,EAAE,EAAE,GAAG,MAAMH,SAASI,IAAI,CAACC,UAAU;IAE5D,IAAIF,SAAS;QACX,MAAMG,WAAWP,YAAYA,SAASQ,UAAU,CAAC,QAAQ,CAACR,SAASQ,UAAU,CAAC,QAAQR,WAAW;QACjGS,IAAAA,oBAAQ,EAACF;IACX;IAEA,qBAAO,qBAACG,oBAAS;QAACV,UAAUA,YAAY;;AAC1C"}