{"version":3,"sources":["/Users/elicharlese/CascadeProjects/AGENT/lib/supabase/client.ts"],"sourcesContent":["import { createBrowserClient } from '@supabase/ssr'\n\n// Get Supabase URL and anon key from environment variables\nconst supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL\nconst supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY\n\n// Validate environment variables\nif (!supabaseUrl || !supabaseAnonKey) {\n  throw new Error('Missing Supabase environment variables. Set NEXT_PUBLIC_SUPABASE_URL and NEXT_PUBLIC_SUPABASE_ANON_KEY')\n}\n\n// Create Supabase browser client that also manages cookies for SSR compatibility\nexport const supabase = createBrowserClient(supabaseUrl, supabaseAnonKey, {\n  auth: {\n    flowType: 'pkce',\n    autoRefreshToken: true,\n    persistSession: true,\n    // We manually handle the OAuth/OTP callback at /auth/callback using\n    // supabase.auth.exchangeCodeForSession, so avoid double-processing here.\n    detectSessionInUrl: false,\n  },\n  cookieOptions: {\n    // Allow cookies over http locally to avoid dev redirect loops\n    secure: process.env.NODE_ENV === 'production',\n    sameSite: 'lax',\n    // IMPORTANT: Use root path so auth cookies are sent on all routes\n    path: '/',\n  },\n})\n\n// Export createClient function for compatibility\nexport function createClient() {\n  return supabase\n}\n"],"names":["createClient","supabase","supabaseUrl","process","env","NEXT_PUBLIC_SUPABASE_URL","supabaseAnonKey","NEXT_PUBLIC_SUPABASE_ANON_KEY","Error","createBrowserClient","auth","flowType","autoRefreshToken","persistSession","detectSessionInUrl","cookieOptions","secure","NODE_ENV","sameSite","path"],"mappings":";;;;;;;;;;;IA+BgBA,YAAY;eAAZA;;IAnBHC,QAAQ;eAARA;;;qBAZuB;AAEpC,2DAA2D;AAC3D,MAAMC,cAAcC,QAAQC,GAAG,CAACC,wBAAwB;AACxD,MAAMC,kBAAkBH,QAAQC,GAAG,CAACG,6BAA6B;AAEjE,iCAAiC;AACjC,IAAI,CAACL,eAAe,CAACI,iBAAiB;IACpC,MAAM,IAAIE,MAAM;AAClB;AAGO,MAAMP,WAAWQ,IAAAA,wBAAmB,EAACP,aAAaI,iBAAiB;IACxEI,MAAM;QACJC,UAAU;QACVC,kBAAkB;QAClBC,gBAAgB;QAChB,oEAAoE;QACpE,yEAAyE;QACzEC,oBAAoB;IACtB;IACAC,eAAe;QACb,8DAA8D;QAC9DC,QAAQb,QAAQC,GAAG,CAACa,QAAQ,KAAK;QACjCC,UAAU;QACV,kEAAkE;QAClEC,MAAM;IACR;AACF;AAGO,SAASnB;IACd,OAAOC;AACT"}