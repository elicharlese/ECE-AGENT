2b929983fe8d2d1869c8e76b376d2bca
"use client";
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "ProfileSettings", {
    enumerable: true,
    get: function() {
        return ProfileSettings;
    }
});
const _jsxruntime = require("react/jsx-runtime");
const _react = require("react");
const _reacthookform = require("react-hook-form");
const _zod = require("@hookform/resolvers/zod");
const _zod1 = require("zod");
const _profile = require("../../types/profile");
const _card = require("../ui/card");
const _button = require("../ui/button");
const _input = require("../ui/input");
const _label = require("../ui/label");
const _uiconstants = require("../../lib/ui-constants");
const _sonner = require("sonner");
const FormSchema = _profile.ProfileUpdateSchema.extend({
    // Allow empty strings from inputs and coerce to undefined for optional fields
    full_name: _zod1.z.string().max(50).optional().or(_zod1.z.literal("")).transform((v)=>v === "" ? undefined : v),
    username: _zod1.z.string().min(3).max(20).regex(/^[a-z0-9_-]+$/i).optional().or(_zod1.z.literal("")).transform((v)=>v === "" ? undefined : v),
    avatar_url: _zod1.z.string().url().optional().or(_zod1.z.literal("")).transform((v)=>v === "" ? undefined : v),
    cover_url: _zod1.z.string().url().optional().or(_zod1.z.literal("")).transform((v)=>v === "" ? undefined : v),
    solana_address: _zod1.z.string().min(32).max(128).optional().or(_zod1.z.literal("")).transform((v)=>v === "" ? undefined : v)
});
function ProfileSettings() {
    const [loading, setLoading] = (0, _react.useState)(false);
    const { register, handleSubmit, reset, formState: { errors, isDirty } } = (0, _reacthookform.useForm)({
        resolver: (0, _zod.zodResolver)(FormSchema),
        defaultValues: {
            full_name: "",
            username: "",
            avatar_url: "",
            cover_url: "",
            solana_address: ""
        }
    });
    // Load current profile
    (0, _react.useEffect)(()=>{
        let ignore = false;
        (async ()=>{
            try {
                const res = await fetch("/api/profile", {
                    method: "GET"
                });
                if (!res.ok) return;
                const { data } = await res.json();
                if (ignore) return;
                reset({
                    full_name: data?.full_name ?? "",
                    username: data?.username ?? "",
                    avatar_url: data?.avatar_url ?? "",
                    cover_url: data?.cover_url ?? "",
                    solana_address: data?.solana_address ?? ""
                });
            } catch (e) {
            // no-op
            }
        })();
        return ()=>{
            ignore = true;
        };
    }, [
        reset
    ]);
    const onSubmit = async (values)=>{
        setLoading(true);
        try {
            // Map to API shape (snake_case) - API also accepts camelCase but we keep consistency
            const payload = {
                full_name: values.full_name,
                username: values.username?.toLowerCase(),
                avatar_url: values.avatar_url,
                cover_url: values.cover_url,
                solana_address: values.solana_address
            };
            const res = await fetch("/api/profile", {
                method: "PUT",
                headers: {
                    "Content-Type": "application/json"
                },
                body: JSON.stringify(payload)
            });
            if (!res.ok) {
                const err = await res.json().catch(()=>({}));
                const msg = err?.error || "Failed to update profile";
                _sonner.toast.error(msg);
                return;
            }
            _sonner.toast.success("Profile updated");
            // refresh values from server
            const json = await res.json();
            reset({
                full_name: json.data?.full_name ?? "",
                username: json.data?.username ?? "",
                avatar_url: json.data?.avatar_url ?? "",
                cover_url: json.data?.cover_url ?? "",
                solana_address: json.data?.solana_address ?? ""
            });
        } catch  {
            _sonner.toast.error("Failed to update profile");
        } finally{
            setLoading(false);
        }
    };
    return /*#__PURE__*/ (0, _jsxruntime.jsxs)(_card.Card, {
        children: [
            /*#__PURE__*/ (0, _jsxruntime.jsx)(_card.CardHeader, {
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_card.CardTitle, {
                    className: "flex items-center gap-2 text-lg",
                    children: "Profile Settings"
                })
            }),
            /*#__PURE__*/ (0, _jsxruntime.jsx)(_card.CardContent, {
                children: /*#__PURE__*/ (0, _jsxruntime.jsxs)("form", {
                    onSubmit: handleSubmit(onSubmit),
                    className: `grid ${_uiconstants.UI_CONSTANTS.grid.cols2} gap-4`,
                    children: [
                        /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                            className: "space-y-2",
                            children: [
                                /*#__PURE__*/ (0, _jsxruntime.jsx)(_label.Label, {
                                    htmlFor: "full_name",
                                    children: "Display name"
                                }),
                                /*#__PURE__*/ (0, _jsxruntime.jsx)(_input.Input, {
                                    id: "full_name",
                                    placeholder: "Your name",
                                    ...register("full_name")
                                }),
                                errors.full_name && /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                                    className: "text-xs text-red-500",
                                    children: errors.full_name.message
                                })
                            ]
                        }),
                        /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                            className: "space-y-2",
                            children: [
                                /*#__PURE__*/ (0, _jsxruntime.jsx)(_label.Label, {
                                    htmlFor: "username",
                                    children: "Username"
                                }),
                                /*#__PURE__*/ (0, _jsxruntime.jsx)(_input.Input, {
                                    id: "username",
                                    placeholder: "your_handle",
                                    ...register("username")
                                }),
                                errors.username && /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                                    className: "text-xs text-red-500",
                                    children: errors.username.message
                                })
                            ]
                        }),
                        /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                            className: "space-y-2",
                            children: [
                                /*#__PURE__*/ (0, _jsxruntime.jsx)(_label.Label, {
                                    htmlFor: "avatar_url",
                                    children: "Avatar URL"
                                }),
                                /*#__PURE__*/ (0, _jsxruntime.jsx)(_input.Input, {
                                    id: "avatar_url",
                                    placeholder: "https://...",
                                    ...register("avatar_url")
                                }),
                                errors.avatar_url && /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                                    className: "text-xs text-red-500",
                                    children: errors.avatar_url.message
                                })
                            ]
                        }),
                        /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                            className: "space-y-2",
                            children: [
                                /*#__PURE__*/ (0, _jsxruntime.jsx)(_label.Label, {
                                    htmlFor: "cover_url",
                                    children: "Cover URL"
                                }),
                                /*#__PURE__*/ (0, _jsxruntime.jsx)(_input.Input, {
                                    id: "cover_url",
                                    placeholder: "https://...",
                                    ...register("cover_url")
                                }),
                                errors.cover_url && /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                                    className: "text-xs text-red-500",
                                    children: errors.cover_url.message
                                })
                            ]
                        }),
                        /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                            className: "space-y-2 md:col-span-2",
                            children: [
                                /*#__PURE__*/ (0, _jsxruntime.jsx)(_label.Label, {
                                    htmlFor: "solana_address",
                                    children: "Solana Address"
                                }),
                                /*#__PURE__*/ (0, _jsxruntime.jsx)(_input.Input, {
                                    id: "solana_address",
                                    placeholder: "Your Solana wallet address",
                                    ...register("solana_address")
                                }),
                                errors.solana_address && /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                                    className: "text-xs text-red-500",
                                    children: errors.solana_address.message
                                })
                            ]
                        }),
                        /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                            className: "md:col-span-2 flex justify-end gap-2",
                            children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_button.Button, {
                                type: "submit",
                                disabled: loading || !isDirty,
                                children: loading ? "Saving..." : "Save changes"
                            })
                        })
                    ]
                })
            })
        ]
    });
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9lbGljaGFybGVzZS9DYXNjYWRlUHJvamVjdHMvQUdFTlQvY29tcG9uZW50cy9wcm9maWxlL1Byb2ZpbGVTZXR0aW5ncy50c3giXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCJcblxuaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IHsgdXNlRm9ybSB9IGZyb20gJ3JlYWN0LWhvb2stZm9ybSdcbmltcG9ydCB7IHpvZFJlc29sdmVyIH0gZnJvbSAnQGhvb2tmb3JtL3Jlc29sdmVycy96b2QnXG5pbXBvcnQgeyB6IH0gZnJvbSAnem9kJ1xuaW1wb3J0IHsgUHJvZmlsZVVwZGF0ZVNjaGVtYSwgdHlwZSBQcm9maWxlVXBkYXRlIH0gZnJvbSAnQC90eXBlcy9wcm9maWxlJ1xuaW1wb3J0IHsgQ2FyZCwgQ2FyZENvbnRlbnQsIENhcmRIZWFkZXIsIENhcmRUaXRsZSB9IGZyb20gJ0AvY29tcG9uZW50cy91aS9jYXJkJ1xuaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL2J1dHRvbidcbmltcG9ydCB7IElucHV0IH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL2lucHV0J1xuaW1wb3J0IHsgTGFiZWwgfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvbGFiZWwnXG5pbXBvcnQgeyBVSV9DT05TVEFOVFMgfSBmcm9tICdAL2xpYi91aS1jb25zdGFudHMnXG5pbXBvcnQgeyB0b2FzdCB9IGZyb20gJ3Nvbm5lcidcblxuY29uc3QgRm9ybVNjaGVtYSA9IFByb2ZpbGVVcGRhdGVTY2hlbWEuZXh0ZW5kKHtcbiAgLy8gQWxsb3cgZW1wdHkgc3RyaW5ncyBmcm9tIGlucHV0cyBhbmQgY29lcmNlIHRvIHVuZGVmaW5lZCBmb3Igb3B0aW9uYWwgZmllbGRzXG4gIGZ1bGxfbmFtZTogei5zdHJpbmcoKS5tYXgoNTApLm9wdGlvbmFsKCkub3Ioei5saXRlcmFsKCcnKSkudHJhbnNmb3JtKHYgPT4gKHYgPT09ICcnID8gdW5kZWZpbmVkIDogdikpLFxuICB1c2VybmFtZTogelxuICAgIC5zdHJpbmcoKVxuICAgIC5taW4oMylcbiAgICAubWF4KDIwKVxuICAgIC5yZWdleCgvXlthLXowLTlfLV0rJC9pKVxuICAgIC5vcHRpb25hbCgpXG4gICAgLm9yKHoubGl0ZXJhbCgnJykpXG4gICAgLnRyYW5zZm9ybSh2ID0+ICh2ID09PSAnJyA/IHVuZGVmaW5lZCA6IHYpKSxcbiAgYXZhdGFyX3VybDogei5zdHJpbmcoKS51cmwoKS5vcHRpb25hbCgpLm9yKHoubGl0ZXJhbCgnJykpLnRyYW5zZm9ybSh2ID0+ICh2ID09PSAnJyA/IHVuZGVmaW5lZCA6IHYpKSxcbiAgY292ZXJfdXJsOiB6LnN0cmluZygpLnVybCgpLm9wdGlvbmFsKCkub3Ioei5saXRlcmFsKCcnKSkudHJhbnNmb3JtKHYgPT4gKHYgPT09ICcnID8gdW5kZWZpbmVkIDogdikpLFxuICBzb2xhbmFfYWRkcmVzczogei5zdHJpbmcoKS5taW4oMzIpLm1heCgxMjgpLm9wdGlvbmFsKCkub3Ioei5saXRlcmFsKCcnKSkudHJhbnNmb3JtKHYgPT4gKHYgPT09ICcnID8gdW5kZWZpbmVkIDogdikpLFxufSlcblxuZXhwb3J0IGZ1bmN0aW9uIFByb2ZpbGVTZXR0aW5ncygpIHtcbiAgY29uc3QgW2xvYWRpbmcsIHNldExvYWRpbmddID0gdXNlU3RhdGUoZmFsc2UpXG4gIGNvbnN0IHsgcmVnaXN0ZXIsIGhhbmRsZVN1Ym1pdCwgcmVzZXQsIGZvcm1TdGF0ZTogeyBlcnJvcnMsIGlzRGlydHkgfSB9ID0gdXNlRm9ybTx6LmluZmVyPHR5cGVvZiBGb3JtU2NoZW1hPj4oe1xuICAgIHJlc29sdmVyOiB6b2RSZXNvbHZlcihGb3JtU2NoZW1hKSxcbiAgICBkZWZhdWx0VmFsdWVzOiB7XG4gICAgICBmdWxsX25hbWU6ICcnLFxuICAgICAgdXNlcm5hbWU6ICcnLFxuICAgICAgYXZhdGFyX3VybDogJycsXG4gICAgICBjb3Zlcl91cmw6ICcnLFxuICAgICAgc29sYW5hX2FkZHJlc3M6ICcnLFxuICAgIH0sXG4gIH0pXG5cbiAgLy8gTG9hZCBjdXJyZW50IHByb2ZpbGVcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBsZXQgaWdub3JlID0gZmFsc2VcbiAgICA7KGFzeW5jICgpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKCcvYXBpL3Byb2ZpbGUnLCB7IG1ldGhvZDogJ0dFVCcgfSlcbiAgICAgICAgaWYgKCFyZXMub2spIHJldHVyblxuICAgICAgICBjb25zdCB7IGRhdGEgfSA9IGF3YWl0IHJlcy5qc29uKClcbiAgICAgICAgaWYgKGlnbm9yZSkgcmV0dXJuXG4gICAgICAgIHJlc2V0KHtcbiAgICAgICAgICBmdWxsX25hbWU6IGRhdGE/LmZ1bGxfbmFtZSA/PyAnJyxcbiAgICAgICAgICB1c2VybmFtZTogZGF0YT8udXNlcm5hbWUgPz8gJycsXG4gICAgICAgICAgYXZhdGFyX3VybDogZGF0YT8uYXZhdGFyX3VybCA/PyAnJyxcbiAgICAgICAgICBjb3Zlcl91cmw6IGRhdGE/LmNvdmVyX3VybCA/PyAnJyxcbiAgICAgICAgICBzb2xhbmFfYWRkcmVzczogZGF0YT8uc29sYW5hX2FkZHJlc3MgPz8gJycsXG4gICAgICAgIH0pXG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIC8vIG5vLW9wXG4gICAgICB9XG4gICAgfSkoKVxuICAgIHJldHVybiAoKSA9PiB7IGlnbm9yZSA9IHRydWUgfVxuICB9LCBbcmVzZXRdKVxuXG4gIGNvbnN0IG9uU3VibWl0ID0gYXN5bmMgKHZhbHVlczogei5pbmZlcjx0eXBlb2YgRm9ybVNjaGVtYT4pID0+IHtcbiAgICBzZXRMb2FkaW5nKHRydWUpXG4gICAgdHJ5IHtcbiAgICAgIC8vIE1hcCB0byBBUEkgc2hhcGUgKHNuYWtlX2Nhc2UpIC0gQVBJIGFsc28gYWNjZXB0cyBjYW1lbENhc2UgYnV0IHdlIGtlZXAgY29uc2lzdGVuY3lcbiAgICAgIGNvbnN0IHBheWxvYWQ6IFByb2ZpbGVVcGRhdGUgPSB7XG4gICAgICAgIGZ1bGxfbmFtZTogdmFsdWVzLmZ1bGxfbmFtZSxcbiAgICAgICAgdXNlcm5hbWU6IHZhbHVlcy51c2VybmFtZT8udG9Mb3dlckNhc2UoKSxcbiAgICAgICAgYXZhdGFyX3VybDogdmFsdWVzLmF2YXRhcl91cmwsXG4gICAgICAgIGNvdmVyX3VybDogdmFsdWVzLmNvdmVyX3VybCxcbiAgICAgICAgc29sYW5hX2FkZHJlc3M6IHZhbHVlcy5zb2xhbmFfYWRkcmVzcyxcbiAgICAgIH1cblxuICAgICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goJy9hcGkvcHJvZmlsZScsIHtcbiAgICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBheWxvYWQpLFxuICAgICAgfSlcblxuICAgICAgaWYgKCFyZXMub2spIHtcbiAgICAgICAgY29uc3QgZXJyID0gYXdhaXQgcmVzLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKVxuICAgICAgICBjb25zdCBtc2cgPSBlcnI/LmVycm9yIHx8ICdGYWlsZWQgdG8gdXBkYXRlIHByb2ZpbGUnXG4gICAgICAgIHRvYXN0LmVycm9yKG1zZylcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG5cbiAgICAgIHRvYXN0LnN1Y2Nlc3MoJ1Byb2ZpbGUgdXBkYXRlZCcpXG4gICAgICAvLyByZWZyZXNoIHZhbHVlcyBmcm9tIHNlcnZlclxuICAgICAgY29uc3QganNvbiA9IGF3YWl0IHJlcy5qc29uKClcbiAgICAgIHJlc2V0KHtcbiAgICAgICAgZnVsbF9uYW1lOiBqc29uLmRhdGE/LmZ1bGxfbmFtZSA/PyAnJyxcbiAgICAgICAgdXNlcm5hbWU6IGpzb24uZGF0YT8udXNlcm5hbWUgPz8gJycsXG4gICAgICAgIGF2YXRhcl91cmw6IGpzb24uZGF0YT8uYXZhdGFyX3VybCA/PyAnJyxcbiAgICAgICAgY292ZXJfdXJsOiBqc29uLmRhdGE/LmNvdmVyX3VybCA/PyAnJyxcbiAgICAgICAgc29sYW5hX2FkZHJlc3M6IGpzb24uZGF0YT8uc29sYW5hX2FkZHJlc3MgPz8gJycsXG4gICAgICB9KVxuICAgIH0gY2F0Y2gge1xuICAgICAgdG9hc3QuZXJyb3IoJ0ZhaWxlZCB0byB1cGRhdGUgcHJvZmlsZScpXG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldExvYWRpbmcoZmFsc2UpXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8Q2FyZD5cbiAgICAgIDxDYXJkSGVhZGVyPlxuICAgICAgICA8Q2FyZFRpdGxlIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yIHRleHQtbGdcIj5Qcm9maWxlIFNldHRpbmdzPC9DYXJkVGl0bGU+XG4gICAgICA8L0NhcmRIZWFkZXI+XG4gICAgICA8Q2FyZENvbnRlbnQ+XG4gICAgICAgIDxmb3JtIG9uU3VibWl0PXtoYW5kbGVTdWJtaXQob25TdWJtaXQpfSBjbGFzc05hbWU9e2BncmlkICR7VUlfQ09OU1RBTlRTLmdyaWQuY29sczJ9IGdhcC00YH0+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTJcIj5cbiAgICAgICAgICAgIDxMYWJlbCBodG1sRm9yPVwiZnVsbF9uYW1lXCI+RGlzcGxheSBuYW1lPC9MYWJlbD5cbiAgICAgICAgICAgIDxJbnB1dCBpZD1cImZ1bGxfbmFtZVwiIHBsYWNlaG9sZGVyPVwiWW91ciBuYW1lXCIgey4uLnJlZ2lzdGVyKCdmdWxsX25hbWUnKX0gLz5cbiAgICAgICAgICAgIHtlcnJvcnMuZnVsbF9uYW1lICYmIDxwIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1yZWQtNTAwXCI+e2Vycm9ycy5mdWxsX25hbWUubWVzc2FnZX08L3A+fVxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTJcIj5cbiAgICAgICAgICAgIDxMYWJlbCBodG1sRm9yPVwidXNlcm5hbWVcIj5Vc2VybmFtZTwvTGFiZWw+XG4gICAgICAgICAgICA8SW5wdXQgaWQ9XCJ1c2VybmFtZVwiIHBsYWNlaG9sZGVyPVwieW91cl9oYW5kbGVcIiB7Li4ucmVnaXN0ZXIoJ3VzZXJuYW1lJyl9IC8+XG4gICAgICAgICAgICB7ZXJyb3JzLnVzZXJuYW1lICYmIDxwIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1yZWQtNTAwXCI+e2Vycm9ycy51c2VybmFtZS5tZXNzYWdlfTwvcD59XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktMlwiPlxuICAgICAgICAgICAgPExhYmVsIGh0bWxGb3I9XCJhdmF0YXJfdXJsXCI+QXZhdGFyIFVSTDwvTGFiZWw+XG4gICAgICAgICAgICA8SW5wdXQgaWQ9XCJhdmF0YXJfdXJsXCIgcGxhY2Vob2xkZXI9XCJodHRwczovLy4uLlwiIHsuLi5yZWdpc3RlcignYXZhdGFyX3VybCcpfSAvPlxuICAgICAgICAgICAge2Vycm9ycy5hdmF0YXJfdXJsICYmIDxwIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1yZWQtNTAwXCI+e2Vycm9ycy5hdmF0YXJfdXJsLm1lc3NhZ2V9PC9wPn1cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0yXCI+XG4gICAgICAgICAgICA8TGFiZWwgaHRtbEZvcj1cImNvdmVyX3VybFwiPkNvdmVyIFVSTDwvTGFiZWw+XG4gICAgICAgICAgICA8SW5wdXQgaWQ9XCJjb3Zlcl91cmxcIiBwbGFjZWhvbGRlcj1cImh0dHBzOi8vLi4uXCIgey4uLnJlZ2lzdGVyKCdjb3Zlcl91cmwnKX0gLz5cbiAgICAgICAgICAgIHtlcnJvcnMuY292ZXJfdXJsICYmIDxwIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1yZWQtNTAwXCI+e2Vycm9ycy5jb3Zlcl91cmwubWVzc2FnZX08L3A+fVxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTIgbWQ6Y29sLXNwYW4tMlwiPlxuICAgICAgICAgICAgPExhYmVsIGh0bWxGb3I9XCJzb2xhbmFfYWRkcmVzc1wiPlNvbGFuYSBBZGRyZXNzPC9MYWJlbD5cbiAgICAgICAgICAgIDxJbnB1dCBpZD1cInNvbGFuYV9hZGRyZXNzXCIgcGxhY2Vob2xkZXI9XCJZb3VyIFNvbGFuYSB3YWxsZXQgYWRkcmVzc1wiIHsuLi5yZWdpc3Rlcignc29sYW5hX2FkZHJlc3MnKX0gLz5cbiAgICAgICAgICAgIHtlcnJvcnMuc29sYW5hX2FkZHJlc3MgJiYgPHAgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LXJlZC01MDBcIj57ZXJyb3JzLnNvbGFuYV9hZGRyZXNzLm1lc3NhZ2V9PC9wPn1cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWQ6Y29sLXNwYW4tMiBmbGV4IGp1c3RpZnktZW5kIGdhcC0yXCI+XG4gICAgICAgICAgICA8QnV0dG9uIHR5cGU9XCJzdWJtaXRcIiBkaXNhYmxlZD17bG9hZGluZyB8fCAhaXNEaXJ0eX0+e2xvYWRpbmcgPyAnU2F2aW5nLi4uJyA6ICdTYXZlIGNoYW5nZXMnfTwvQnV0dG9uPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Zvcm0+XG4gICAgICA8L0NhcmRDb250ZW50PlxuICAgIDwvQ2FyZD5cbiAgKVxufVxuIl0sIm5hbWVzIjpbIlByb2ZpbGVTZXR0aW5ncyIsIkZvcm1TY2hlbWEiLCJQcm9maWxlVXBkYXRlU2NoZW1hIiwiZXh0ZW5kIiwiZnVsbF9uYW1lIiwieiIsInN0cmluZyIsIm1heCIsIm9wdGlvbmFsIiwib3IiLCJsaXRlcmFsIiwidHJhbnNmb3JtIiwidiIsInVuZGVmaW5lZCIsInVzZXJuYW1lIiwibWluIiwicmVnZXgiLCJhdmF0YXJfdXJsIiwidXJsIiwiY292ZXJfdXJsIiwic29sYW5hX2FkZHJlc3MiLCJsb2FkaW5nIiwic2V0TG9hZGluZyIsInVzZVN0YXRlIiwicmVnaXN0ZXIiLCJoYW5kbGVTdWJtaXQiLCJyZXNldCIsImZvcm1TdGF0ZSIsImVycm9ycyIsImlzRGlydHkiLCJ1c2VGb3JtIiwicmVzb2x2ZXIiLCJ6b2RSZXNvbHZlciIsImRlZmF1bHRWYWx1ZXMiLCJ1c2VFZmZlY3QiLCJpZ25vcmUiLCJyZXMiLCJmZXRjaCIsIm1ldGhvZCIsIm9rIiwiZGF0YSIsImpzb24iLCJlIiwib25TdWJtaXQiLCJ2YWx1ZXMiLCJwYXlsb2FkIiwidG9Mb3dlckNhc2UiLCJoZWFkZXJzIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJlcnIiLCJjYXRjaCIsIm1zZyIsImVycm9yIiwidG9hc3QiLCJzdWNjZXNzIiwiQ2FyZCIsIkNhcmRIZWFkZXIiLCJDYXJkVGl0bGUiLCJjbGFzc05hbWUiLCJDYXJkQ29udGVudCIsImZvcm0iLCJVSV9DT05TVEFOVFMiLCJncmlkIiwiY29sczIiLCJkaXYiLCJMYWJlbCIsImh0bWxGb3IiLCJJbnB1dCIsImlkIiwicGxhY2Vob2xkZXIiLCJwIiwibWVzc2FnZSIsIkJ1dHRvbiIsInR5cGUiLCJkaXNhYmxlZCJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7OytCQThCZ0JBOzs7ZUFBQUE7Ozs7dUJBNUJvQjsrQkFDWjtxQkFDSTtzQkFDVjt5QkFDc0M7c0JBQ0M7d0JBQ2xDO3VCQUNEO3VCQUNBOzZCQUNPO3dCQUNQO0FBRXRCLE1BQU1DLGFBQWFDLDRCQUFtQixDQUFDQyxNQUFNLENBQUM7SUFDNUMsOEVBQThFO0lBQzlFQyxXQUFXQyxPQUFDLENBQUNDLE1BQU0sR0FBR0MsR0FBRyxDQUFDLElBQUlDLFFBQVEsR0FBR0MsRUFBRSxDQUFDSixPQUFDLENBQUNLLE9BQU8sQ0FBQyxLQUFLQyxTQUFTLENBQUNDLENBQUFBLElBQU1BLE1BQU0sS0FBS0MsWUFBWUQ7SUFDbEdFLFVBQVVULE9BQUMsQ0FDUkMsTUFBTSxHQUNOUyxHQUFHLENBQUMsR0FDSlIsR0FBRyxDQUFDLElBQ0pTLEtBQUssQ0FBQyxrQkFDTlIsUUFBUSxHQUNS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