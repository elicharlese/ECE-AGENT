{"version":3,"sources":["/Users/elicharlese/CascadeProjects/AGENT/components/ui/InteractiveChatPreview.tsx"],"sourcesContent":["\"use client\"\n\nimport React from 'react'\nimport { Bot, Send, ArrowRight, Sparkles } from 'lucide-react'\nimport { cn } from '@/lib/utils'\nimport Link from 'next/link'\n\nexport type InteractiveChatPreviewProps = {\n  className?: string\n}\n\ninterface Message {\n  id: string\n  text: string\n  sender: 'user' | 'ai'\n  timestamp: string\n}\n\nexport function InteractiveChatPreview({ className }: InteractiveChatPreviewProps) {\n  const [messages, setMessages] = React.useState<Message[]>([])\n  const [input, setInput] = React.useState('')\n  const [isTyping, setIsTyping] = React.useState(false)\n  const [messageCount, setMessageCount] = React.useState(0)\n  const [showSignupPrompt, setShowSignupPrompt] = React.useState(false)\n\n  const addMessage = (text: string, sender: 'user' | 'ai') => {\n    const newMessage: Message = {\n      id: Date.now().toString(),\n      text,\n      sender,\n      timestamp: new Date().toLocaleTimeString('en-US', {\n        hour: '2-digit',\n        minute: '2-digit',\n      }),\n    }\n    setMessages(prev => [...prev, newMessage])\n  }\n\n  const handleSendMessage = async () => {\n    if (!input.trim() || showSignupPrompt) return\n\n    const userMessage = input.trim()\n    setInput('')\n    addMessage(userMessage, 'user')\n    setMessageCount(prev => prev + 1)\n\n    // Check if user reached limit\n    if (messageCount >= 1) {\n      setTimeout(() => {\n        setShowSignupPrompt(true)\n      }, 1000)\n      return\n    }\n\n    // Simulate AI response\n    setIsTyping(true)\n    setTimeout(() => {\n      setIsTyping(false)\n      \n      if (userMessage.toLowerCase().startsWith('@ai')) {\n        const query = userMessage.slice(3).trim()\n        addMessage(`I'd be happy to help with ${query}! This is a preview of our AI assistant. Sign up to continue the conversation and access all features.`, 'ai')\n      } else {\n        addMessage(`I see you said ${userMessage}. Try starting your message with @ai to get an AI response! For example: @ai help me with coding`, 'ai')\n      }\n    }, 1500)\n  }\n\n  const handleKeyPress = (e: React.KeyboardEvent) => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault()\n      handleSendMessage()\n    }\n  }\n\n  return (\n    <div className={cn('relative w-full flex flex-col glass-3d rounded-3xl overflow-hidden pointer-events-auto', 'h-[420px] sm:h-[460px] lg:h-[520px]', className)}>\n      {/* Header */}\n      <div className=\"flex items-center justify-between border-b border-white/20 dark:border-slate-700/50 p-4 bg-white/5 dark:bg-slate-800/20\">\n        <div className=\"flex items-center gap-3\">\n          <div className=\"flex h-8 w-8 items-center justify-center rounded-full bg-ai\">\n            <Bot className=\"h-4 w-4 text-white\" />\n          </div>\n          <div>\n            <h3 className=\"text-sm font-semibold text-slate-900 dark:text-slate-200\">\n              AI Assistant\n            </h3>\n            <p className=\"text-xs text-slate-600 dark:text-slate-400\">\n              Try it live â€¢ Type @ai for AI responses\n            </p>\n          </div>\n        </div>\n        <div className=\"flex items-center gap-1\">\n          <div className=\"h-2 w-2 rounded-full bg-green-400 animate-pulse\" />\n          <span className=\"text-xs text-slate-600 dark:text-slate-400\">Live Preview</span>\n        </div>\n      </div>\n\n      {/* Messages */}\n      <div className=\"flex-1 space-y-3 p-4 overflow-y-auto min-h-0 max-h-[calc(100%-140px)]\">\n        {messages.length === 0 && (\n          <div className=\"flex flex-col items-center justify-center h-full text-center space-y-2\">\n            <Sparkles className=\"h-8 w-8 text-slate-400 dark:text-slate-500\" />\n            <p className=\"text-sm text-slate-600 dark:text-slate-400\">\n              Start a conversation! Try typing @ai help me code\n            </p>\n          </div>\n        )}\n        \n        {messages.map((message) => (\n          <div\n            key={message.id}\n            className={cn(\n              'flex animate-in slide-in-from-bottom-2 fade-in duration-500',\n              message.sender === 'user' ? 'justify-end' : 'justify-start'\n            )}\n          >\n            <div\n              className={cn(\n                'max-w-[80%] rounded-2xl px-3 py-2 text-sm',\n                message.sender === 'user'\n                  ? 'bg-human text-white'\n                  : 'bg-ai text-white'\n              )}\n            >\n              <p>{message.text}</p>\n              <div\n                className={cn(\n                  'mt-1 flex items-center gap-1',\n                  message.sender === 'user' ? 'justify-end' : 'justify-start'\n                )}\n              >\n                <span className=\"text-xs opacity-70\">{message.timestamp}</span>\n              </div>\n            </div>\n          </div>\n        ))}\n\n        {/* Typing indicator */}\n        {isTyping && (\n          <div className=\"flex justify-start animate-in slide-in-from-bottom-2 fade-in duration-300\">\n            <div className=\"rounded-2xl bg-ai px-3 py-2\">\n              <div className=\"flex items-center gap-1\">\n                <span className=\"text-xs text-white/80 mr-2\">\n                  AI is typing\n                </span>\n                <div className=\"flex gap-1\">\n                  <div\n                    className=\"h-1.5 w-1.5 rounded-full bg-white/60 animate-bounce\"\n                    style={{ animationDelay: '0ms' }}\n                  />\n                  <div\n                    className=\"h-1.5 w-1.5 rounded-full bg-white/60 animate-bounce\"\n                    style={{ animationDelay: '150ms' }}\n                  />\n                  <div\n                    className=\"h-1.5 w-1.5 rounded-full bg-white/60 animate-bounce\"\n                    style={{ animationDelay: '300ms' }}\n                  />\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Signup prompt */}\n        {showSignupPrompt && (\n          <div className=\"animate-in slide-in-from-bottom-4 fade-in duration-700\">\n            <div className=\"bg-gradient-to-r from-purple-500/10 to-blue-500/10 dark:from-purple-500/20 dark:to-blue-500/20 border border-purple-200 dark:border-purple-500/30 rounded-2xl p-4 text-center\">\n              <div className=\"flex items-center justify-center gap-2 mb-2\">\n                <Sparkles className=\"h-5 w-5 text-purple-500\" />\n                <h4 className=\"font-semibold text-slate-900 dark:text-slate-100\">\n                  Ready for more?\n                </h4>\n              </div>\n              <p className=\"text-sm text-slate-600 dark:text-slate-300 mb-3\">\n                You&apos;ve reached the preview limit. Sign up for unlimited conversations and full AI features!\n              </p>\n              <Link\n                href=\"/auth\"\n                className=\"inline-flex items-center gap-2 bg-brand-gradient text-white px-4 py-2 rounded-full text-sm font-medium hover:opacity-90 transition-opacity\"\n              >\n                Get Full Access\n                <ArrowRight className=\"h-4 w-4\" />\n              </Link>\n            </div>\n          </div>\n        )}\n      </div>\n\n      {/* Input bar */}\n      <div className=\"border-t border-white/20 dark:border-slate-700/50 bg-white/10 dark:bg-slate-800/30 backdrop-blur-sm\">\n        <div className=\"p-3 flex items-center gap-2\">\n          <div className=\"flex-1 relative\">\n            <input\n              type=\"text\"\n              value={input}\n              onChange={(e) => setInput(e.target.value)}\n              onKeyPress={handleKeyPress}\n              placeholder={showSignupPrompt ? \"Sign up to continue...\" : \"Type @ai for AI responses...\"}\n              className=\"w-full rounded-full border border-white/30 dark:border-slate-600 bg-white/80 dark:bg-slate-700/80 backdrop-blur-sm px-4 py-2 text-sm text-slate-900 dark:text-slate-100 placeholder-slate-500 dark:placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent disabled:opacity-50\"\n              disabled={showSignupPrompt}\n            />\n          </div>\n          <button\n            onClick={handleSendMessage}\n            disabled={!input.trim() || showSignupPrompt}\n            className=\"rounded-full bg-human hover:bg-blue-600 p-2 text-white transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\n            title=\"Send message\"\n          >\n            <Send className=\"h-4 w-4\" />\n          </button>\n        </div>\n      </div>\n    </div>\n  )\n}\n\n// no default export\n"],"names":["InteractiveChatPreview","className","messages","setMessages","React","useState","input","setInput","isTyping","setIsTyping","messageCount","setMessageCount","showSignupPrompt","setShowSignupPrompt","addMessage","text","sender","newMessage","id","Date","now","toString","timestamp","toLocaleTimeString","hour","minute","prev","handleSendMessage","trim","userMessage","setTimeout","toLowerCase","startsWith","query","slice","handleKeyPress","e","key","shiftKey","preventDefault","div","cn","Bot","h3","p","span","length","Sparkles","map","message","style","animationDelay","h4","Link","href","ArrowRight","type","value","onChange","target","onKeyPress","placeholder","disabled","button","onClick","title","Send"],"mappings":"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"}