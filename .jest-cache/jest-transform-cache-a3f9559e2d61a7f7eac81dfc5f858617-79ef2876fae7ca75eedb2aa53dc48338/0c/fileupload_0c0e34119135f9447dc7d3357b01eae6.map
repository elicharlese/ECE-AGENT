{"version":3,"sources":["/Users/elicharlese/CascadeProjects/AGENT/components/chat/file-upload.tsx"],"sourcesContent":["\"use client\"\n\nimport type React from \"react\"\n\nimport { useRef, useState } from \"react\"\nimport { Button } from \"@/components/ui/button\"\nimport { Popover, PopoverContent, PopoverTrigger } from \"@/components/ui/popover\"\nimport { Paperclip, ImageIcon, Video, Music, FileText, Camera } from \"lucide-react\"\n\ninterface FileUploadProps {\n  onFileSelect: (file: File, type: string) => void\n}\n\nexport function FileUpload({ onFileSelect }: FileUploadProps) {\n  const fileInputRef = useRef<HTMLInputElement>(null)\n  const [uploadType, setUploadType] = useState<string>(\"\")\n\n  const handleFileSelect = (type: string, accept: string) => {\n    setUploadType(type)\n    if (fileInputRef.current) {\n      fileInputRef.current.accept = accept\n      fileInputRef.current.click()\n    }\n  }\n\n  const handleFileChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const file = e.target.files?.[0]\n    if (file) {\n      onFileSelect(file, uploadType)\n    }\n  }\n\n  const uploadOptions = [\n    { type: \"image\", label: \"Photo\", icon: ImageIcon, accept: \"image/*\" },\n    { type: \"video\", label: \"Video\", icon: Video, accept: \"video/*\" },\n    { type: \"audio\", label: \"Audio\", icon: Music, accept: \"audio/*\" },\n    { type: \"document\", label: \"Document\", icon: FileText, accept: \".pdf,.doc,.docx,.txt\" },\n    { type: \"camera\", label: \"Camera\", icon: Camera, accept: \"image/*\" },\n  ]\n\n  return (\n    <>\n      <Popover>\n        <PopoverTrigger asChild>\n          <Button variant=\"ghost\" size=\"sm\">\n            <Paperclip className=\"h-4 w-4\" />\n          </Button>\n        </PopoverTrigger>\n        <PopoverContent className=\"w-48 p-2\" align=\"start\">\n          <div className=\"space-y-1\">\n            {uploadOptions.map((option) => (\n              <Button\n                key={option.type}\n                variant=\"ghost\"\n                className=\"w-full justify-start\"\n                onClick={() => handleFileSelect(option.type, option.accept)}\n              >\n                <option.icon className=\"h-4 w-4 mr-2\" />\n                {option.label}\n              </Button>\n            ))}\n          </div>\n        </PopoverContent>\n      </Popover>\n      <input ref={fileInputRef} type=\"file\" className=\"hidden\" onChange={handleFileChange} />\n    </>\n  )\n}\n"],"names":["FileUpload","onFileSelect","fileInputRef","useRef","uploadType","setUploadType","useState","handleFileSelect","type","accept","current","click","handleFileChange","e","file","target","files","uploadOptions","label","icon","ImageIcon","Video","Music","FileText","Camera","Popover","PopoverTrigger","asChild","Button","variant","size","Paperclip","className","PopoverContent","align","div","map","option","onClick","input","ref","onChange"],"mappings":"AAAA;;;;;+BAagBA;;;eAAAA;;;;uBATiB;wBACV;yBACiC;6BACa;AAM9D,SAASA,WAAW,EAAEC,YAAY,EAAmB;IAC1D,MAAMC,eAAeC,IAAAA,aAAM,EAAmB;IAC9C,MAAM,CAACC,YAAYC,cAAc,GAAGC,IAAAA,eAAQ,EAAS;IAErD,MAAMC,mBAAmB,CAACC,MAAcC;QACtCJ,cAAcG;QACd,IAAIN,aAAaQ,OAAO,EAAE;YACxBR,aAAaQ,OAAO,CAACD,MAAM,GAAGA;YAC9BP,aAAaQ,OAAO,CAACC,KAAK;QAC5B;IACF;IAEA,MAAMC,mBAAmB,CAACC;QACxB,MAAMC,OAAOD,EAAEE,MAAM,CAACC,KAAK,EAAE,CAAC,EAAE;QAChC,IAAIF,MAAM;YACRb,aAAaa,MAAMV;QACrB;IACF;IAEA,MAAMa,gBAAgB;QACpB;YAAET,MAAM;YAASU,OAAO;YAASC,MAAMC,sBAAS;YAAEX,QAAQ;QAAU;QACpE;YAAED,MAAM;YAASU,OAAO;YAASC,MAAME,kBAAK;YAAEZ,QAAQ;QAAU;QAChE;YAAED,MAAM;YAASU,OAAO;YAASC,MAAMG,kBAAK;YAAEb,QAAQ;QAAU;QAChE;YAAED,MAAM;YAAYU,OAAO;YAAYC,MAAMI,qBAAQ;YAAEd,QAAQ;QAAuB;QACtF;YAAED,MAAM;YAAUU,OAAO;YAAUC,MAAMK,mBAAM;YAAEf,QAAQ;QAAU;KACpE;IAED,qBACE;;0BACE,sBAACgB,gBAAO;;kCACN,qBAACC,uBAAc;wBAACC,OAAO;kCACrB,cAAA,qBAACC,cAAM;4BAACC,SAAQ;4BAAQC,MAAK;sCAC3B,cAAA,qBAACC,sBAAS;gCAACC,WAAU;;;;kCAGzB,qBAACC,uBAAc;wBAACD,WAAU;wBAAWE,OAAM;kCACzC,cAAA,qBAACC;4BAAIH,WAAU;sCACZf,cAAcmB,GAAG,CAAC,CAACC,uBAClB,sBAACT,cAAM;oCAELC,SAAQ;oCACRG,WAAU;oCACVM,SAAS,IAAM/B,iBAAiB8B,OAAO7B,IAAI,EAAE6B,OAAO5B,MAAM;;sDAE1D,qBAAC4B,OAAOlB,IAAI;4CAACa,WAAU;;wCACtBK,OAAOnB,KAAK;;mCANRmB,OAAO7B,IAAI;;;;;0BAY1B,qBAAC+B;gBAAMC,KAAKtC;gBAAcM,MAAK;gBAAOwB,WAAU;gBAASS,UAAU7B;;;;AAGzE"}