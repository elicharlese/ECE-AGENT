{"version":3,"sources":["/Users/elicharlese/CascadeProjects/AGENT/lib/analytics.ts"],"sourcesContent":["export type AnalyticsEvent = {\n  name: string\n  timestamp?: number\n  userId?: string | null\n  properties?: Record<string, unknown>\n}\n\nconst ANALYTICS_URL = process.env.NEXT_PUBLIC_ANALYTICS_URL\n\nexport async function trackEvent(event: AnalyticsEvent): Promise<void> {\n  try {\n    if (!ANALYTICS_URL) return\n    const payload = {\n      name: event.name,\n      timestamp: event.timestamp ?? Date.now(),\n      userId: event.userId ?? null,\n      properties: event.properties ?? {},\n    }\n    await fetch(ANALYTICS_URL, {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify(payload),\n      keepalive: true,\n    })\n  } catch {\n    // best-effort only; swallow errors\n  }\n}\n"],"names":["trackEvent","ANALYTICS_URL","process","env","NEXT_PUBLIC_ANALYTICS_URL","event","payload","name","timestamp","Date","now","userId","properties","fetch","method","headers","body","JSON","stringify","keepalive"],"mappings":";;;;+BASsBA;;;eAAAA;;;AAFtB,MAAMC,gBAAgBC,QAAQC,GAAG,CAACC,yBAAyB;AAEpD,eAAeJ,WAAWK,KAAqB;IACpD,IAAI;QACF,IAAI,CAACJ,eAAe;QACpB,MAAMK,UAAU;YACdC,MAAMF,MAAME,IAAI;YAChBC,WAAWH,MAAMG,SAAS,IAAIC,KAAKC,GAAG;YACtCC,QAAQN,MAAMM,MAAM,IAAI;YACxBC,YAAYP,MAAMO,UAAU,IAAI,CAAC;QACnC;QACA,MAAMC,MAAMZ,eAAe;YACzBa,QAAQ;YACRC,SAAS;gBAAE,gBAAgB;YAAmB;YAC9CC,MAAMC,KAAKC,SAAS,CAACZ;YACrBa,WAAW;QACb;IACF,EAAE,OAAM;IACN,mCAAmC;IACrC;AACF"}