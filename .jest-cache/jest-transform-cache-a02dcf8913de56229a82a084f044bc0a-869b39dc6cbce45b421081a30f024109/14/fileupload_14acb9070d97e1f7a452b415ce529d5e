ed659e76e9dbe2e20be55c41f5cee28e
"use client";
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "FileUpload", {
    enumerable: true,
    get: function() {
        return FileUpload;
    }
});
const _jsxruntime = require("react/jsx-runtime");
const _react = require("react");
const _button = require("../ui/button");
const _popover = require("../ui/popover");
const _lucidereact = require("lucide-react");
function FileUpload({ onFileSelect }) {
    const fileInputRef = (0, _react.useRef)(null);
    const [uploadType, setUploadType] = (0, _react.useState)("");
    const handleFileSelect = (type, accept)=>{
        setUploadType(type);
        if (fileInputRef.current) {
            fileInputRef.current.accept = accept;
            fileInputRef.current.click();
        }
    };
    const handleFileChange = (e)=>{
        const file = e.target.files?.[0];
        if (file) {
            onFileSelect(file, uploadType);
        }
    };
    const uploadOptions = [
        {
            type: "image",
            label: "Photo",
            icon: _lucidereact.ImageIcon,
            accept: "image/*"
        },
        {
            type: "video",
            label: "Video",
            icon: _lucidereact.Video,
            accept: "video/*"
        },
        {
            type: "audio",
            label: "Audio",
            icon: _lucidereact.Music,
            accept: "audio/*"
        },
        {
            type: "document",
            label: "Document",
            icon: _lucidereact.FileText,
            accept: ".pdf,.doc,.docx,.txt"
        },
        {
            type: "camera",
            label: "Camera",
            icon: _lucidereact.Camera,
            accept: "image/*"
        }
    ];
    return /*#__PURE__*/ (0, _jsxruntime.jsxs)(_jsxruntime.Fragment, {
        children: [
            /*#__PURE__*/ (0, _jsxruntime.jsxs)(_popover.Popover, {
                children: [
                    /*#__PURE__*/ (0, _jsxruntime.jsx)(_popover.PopoverTrigger, {
                        asChild: true,
                        children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_button.Button, {
                            variant: "ghost",
                            size: "sm",
                            children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_lucidereact.Paperclip, {
                                className: "h-4 w-4"
                            })
                        })
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsx)(_popover.PopoverContent, {
                        className: "w-48 p-2",
                        align: "start",
                        children: /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                            className: "space-y-1",
                            children: uploadOptions.map((option)=>/*#__PURE__*/ (0, _jsxruntime.jsxs)(_button.Button, {
                                    variant: "ghost",
                                    className: "w-full justify-start",
                                    onClick: ()=>handleFileSelect(option.type, option.accept),
                                    children: [
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)(option.icon, {
                                            className: "h-4 w-4 mr-2"
                                        }),
                                        option.label
                                    ]
                                }, option.type))
                        })
                    })
                ]
            }),
            /*#__PURE__*/ (0, _jsxruntime.jsx)("input", {
                ref: fileInputRef,
                type: "file",
                className: "hidden",
                onChange: handleFileChange
            })
        ]
    });
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9lbGljaGFybGVzZS9DYXNjYWRlUHJvamVjdHMvRUNFLUFHRU5UL2NvbXBvbmVudHMvY2hhdC9maWxlLXVwbG9hZC50c3giXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCJcblxuaW1wb3J0IHR5cGUgUmVhY3QgZnJvbSBcInJlYWN0XCJcblxuaW1wb3J0IHsgdXNlUmVmLCB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgeyBCdXR0b24gfSBmcm9tIFwiQC9jb21wb25lbnRzL3VpL2J1dHRvblwiXG5pbXBvcnQgeyBQb3BvdmVyLCBQb3BvdmVyQ29udGVudCwgUG9wb3ZlclRyaWdnZXIgfSBmcm9tIFwiQC9jb21wb25lbnRzL3VpL3BvcG92ZXJcIlxuaW1wb3J0IHsgUGFwZXJjbGlwLCBJbWFnZUljb24sIFZpZGVvLCBNdXNpYywgRmlsZVRleHQsIENhbWVyYSB9IGZyb20gXCJsdWNpZGUtcmVhY3RcIlxuXG5pbnRlcmZhY2UgRmlsZVVwbG9hZFByb3BzIHtcbiAgb25GaWxlU2VsZWN0OiAoZmlsZTogRmlsZSwgdHlwZTogc3RyaW5nKSA9PiB2b2lkXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBGaWxlVXBsb2FkKHsgb25GaWxlU2VsZWN0IH06IEZpbGVVcGxvYWRQcm9wcykge1xuICBjb25zdCBmaWxlSW5wdXRSZWYgPSB1c2VSZWY8SFRNTElucHV0RWxlbWVudD4obnVsbClcbiAgY29uc3QgW3VwbG9hZFR5cGUsIHNldFVwbG9hZFR5cGVdID0gdXNlU3RhdGU8c3RyaW5nPihcIlwiKVxuXG4gIGNvbnN0IGhhbmRsZUZpbGVTZWxlY3QgPSAodHlwZTogc3RyaW5nLCBhY2NlcHQ6IHN0cmluZykgPT4ge1xuICAgIHNldFVwbG9hZFR5cGUodHlwZSlcbiAgICBpZiAoZmlsZUlucHV0UmVmLmN1cnJlbnQpIHtcbiAgICAgIGZpbGVJbnB1dFJlZi5jdXJyZW50LmFjY2VwdCA9IGFjY2VwdFxuICAgICAgZmlsZUlucHV0UmVmLmN1cnJlbnQuY2xpY2soKVxuICAgIH1cbiAgfVxuXG4gIGNvbnN0IGhhbmRsZUZpbGVDaGFuZ2UgPSAoZTogUmVhY3QuQ2hhbmdlRXZlbnQ8SFRNTElucHV0RWxlbWVudD4pID0+IHtcbiAgICBjb25zdCBmaWxlID0gZS50YXJnZXQuZmlsZXM/LlswXVxuICAgIGlmIChmaWxlKSB7XG4gICAgICBvbkZpbGVTZWxlY3QoZmlsZSwgdXBsb2FkVHlwZSlcbiAgICB9XG4gIH1cblxuICBjb25zdCB1cGxvYWRPcHRpb25zID0gW1xuICAgIHsgdHlwZTogXCJpbWFnZVwiLCBsYWJlbDogXCJQaG90b1wiLCBpY29uOiBJbWFnZUljb24sIGFjY2VwdDogXCJpbWFnZS8qXCIgfSxcbiAgICB7IHR5cGU6IFwidmlkZW9cIiwgbGFiZWw6IFwiVmlkZW9cIiwgaWNvbjogVmlkZW8sIGFjY2VwdDogXCJ2aWRlby8qXCIgfSxcbiAgICB7IHR5cGU6IFwiYXVkaW9cIiwgbGFiZWw6IFwiQXVkaW9cIiwgaWNvbjogTXVzaWMsIGFjY2VwdDogXCJhdWRpby8qXCIgfSxcbiAgICB7IHR5cGU6IFwiZG9jdW1lbnRcIiwgbGFiZWw6IFwiRG9jdW1lbnRcIiwgaWNvbjogRmlsZVRleHQsIGFjY2VwdDogXCIucGRmLC5kb2MsLmRvY3gsLnR4dFwiIH0sXG4gICAgeyB0eXBlOiBcImNhbWVyYVwiLCBsYWJlbDogXCJDYW1lcmFcIiwgaWNvbjogQ2FtZXJhLCBhY2NlcHQ6IFwiaW1hZ2UvKlwiIH0sXG4gIF1cblxuICByZXR1cm4gKFxuICAgIDw+XG4gICAgICA8UG9wb3Zlcj5cbiAgICAgICAgPFBvcG92ZXJUcmlnZ2VyIGFzQ2hpbGQ+XG4gICAgICAgICAgPEJ1dHRvbiB2YXJpYW50PVwiZ2hvc3RcIiBzaXplPVwic21cIj5cbiAgICAgICAgICAgIDxQYXBlcmNsaXAgY2xhc3NOYW1lPVwiaC00IHctNFwiIC8+XG4gICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgIDwvUG9wb3ZlclRyaWdnZXI+XG4gICAgICAgIDxQb3BvdmVyQ29udGVudCBjbGFzc05hbWU9XCJ3LTQ4IHAtMlwiIGFsaWduPVwic3RhcnRcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktMVwiPlxuICAgICAgICAgICAge3VwbG9hZE9wdGlvbnMubWFwKChvcHRpb24pID0+IChcbiAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgIGtleT17b3B0aW9uLnR5cGV9XG4gICAgICAgICAgICAgICAgdmFyaWFudD1cImdob3N0XCJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwganVzdGlmeS1zdGFydFwiXG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlRmlsZVNlbGVjdChvcHRpb24udHlwZSwgb3B0aW9uLmFjY2VwdCl9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8b3B0aW9uLmljb24gY2xhc3NOYW1lPVwiaC00IHctNCBtci0yXCIgLz5cbiAgICAgICAgICAgICAgICB7b3B0aW9uLmxhYmVsfVxuICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICkpfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L1BvcG92ZXJDb250ZW50PlxuICAgICAgPC9Qb3BvdmVyPlxuICAgICAgPGlucHV0IHJlZj17ZmlsZUlucHV0UmVmfSB0eXBlPVwiZmlsZVwiIGNsYXNzTmFtZT1cImhpZGRlblwiIG9uQ2hhbmdlPXtoYW5kbGVGaWxlQ2hhbmdlfSAvPlxuICAgIDwvPlxuICApXG59XG4iXSwibmFtZXMiOlsiRmlsZVVwbG9hZCIsIm9uRmlsZVNlbGVjdCIsImZpbGVJbnB1dFJlZiIsInVzZVJlZiIsInVwbG9hZFR5cGUiLCJzZXRVcGxvYWRUeXBlIiwidXNlU3RhdGUiLCJoYW5kbGVGaWxlU2VsZWN0IiwidHlwZSIsImFjY2VwdCIsImN1cnJlbnQiLCJjbGljayIsImhhbmRsZUZpbGVDaGFuZ2UiLCJlIiwiZmlsZSIsInRhcmdldCIsImZpbGVzIiwidXBsb2FkT3B0aW9ucyIsImxhYmVsIiwiaWNvbiIsIkltYWdlSWNvbiIsIlZpZGVvIiwiTXVzaWMiLCJGaWxlVGV4dCIsIkNhbWVyYSIsIlBvcG92ZXIiLCJQb3BvdmVyVHJpZ2dlciIsImFzQ2hpbGQiLCJCdXR0b24iLCJ2YXJpYW50Iiwic2l6ZSIsIlBhcGVyY2xpcCIsImNsYXNzTmFtZSIsIlBvcG92ZXJDb250ZW50IiwiYWxpZ24iLCJkaXYiLCJtYXAiLCJvcHRpb24iLCJvbkNsaWNrIiwiaW5wdXQiLCJyZWYiLCJvbkNoYW5nZSJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7OytCQWFnQkE7OztlQUFBQTs7Ozt1QkFUaUI7d0JBQ1Y7eUJBQ2lDOzZCQUNhO0FBTTlELFNBQVNBLFdBQVcsRUFBRUMsWUFBWSxFQUFtQjtJQUMxRCxNQUFNQyxlQUFlQyxJQUFBQSxhQUFNLEVBQW1CO0lBQzlDLE1BQU0sQ0FBQ0MsWUFBWUMsY0FBYyxHQUFHQyxJQUFBQSxlQUFRLEVBQVM7SUFFckQsTUFBTUMsbUJBQW1CLENBQUNDLE1BQWNDO1FBQ3RDSixjQUFjRztRQUNkLElBQUlOLGFBQWFRLE9BQU8sRUFBRTtZQUN4QlIsYUFBYVEsT0FBTyxDQUFDRCxNQUFNLEdBQUdBO1lBQzlCUCxhQUFhUSxPQUFPLENBQUNDLEtBQUs7UUFDNUI7SUFDRjtJQUVBLE1BQU1DLG1CQUFtQixDQUFDQztRQUN4QixNQUFNQyxPQUFPRCxFQUFFRSxNQUFNLENBQUNDLEtBQUssRUFBRSxDQUFDLEVBQUU7UUFDaEMsSUFBSUYsTUFBTTtZQUNSYixhQUFhYSxNQUFNVjtRQUNyQjtJQUNGO0lBRUEsTUFBTWEsZ0JBQWdCO1FBQ3BCO1lBQUVULE1BQU07WUFBU1UsT0FBTztZQUFTQyxNQUFNQyxzQkFBUztZQUFFWCxRQUFRO1FBQVU7UUFDcEU7WUFBRUQsTUFBTTtZQUFTVSxPQUFPO1lBQVNDLE1BQU1FLGtCQUFLO1lBQUVaLFFBQVE7UUFBVTtRQUNoRTtZQUFFRCxNQUFNO1lBQVNVLE9BQU87WUFBU0MsTUFBTUcsa0JBQUs7WUFBRWIsUUFBUTtRQUFVO1FBQ2hFO1lBQUVELE1BQU07WUFBWVUsT0FBTztZQUFZQyxNQUFNSSxxQkFBUTtZQUFFZCxRQUFRO1FBQXVCO1FBQ3RGO1lBQUVELE1BQU07WUFBVVUsT0FBTztZQUFVQyxNQUFNSyxtQkFBTTtZQUFFZixRQUFRO1FBQVU7S0FDcEU7SUFFRCxxQkFDRTs7MEJBQ0Usc0JBQUNnQixnQkFBTzs7a0NBQ04scUJBQUNDLHVCQUFjO3dCQUFDQyxPQUFPO2tDQUNyQixjQUFBLHFCQUFDQyxjQUFNOzRCQUFDQyxTQUFROzRCQUFRQyxNQUFLO3NDQUMzQixjQUFBLHFCQUFDQyxzQkFBUztnQ0FBQ0MsV0FBVTs7OztrQ0FHekIscUJBQUNDLHVCQUFjO3dCQUFDRCxXQUFVO3dCQUFXRSxPQUFNO2tDQUN6QyxjQUFBLHFCQUFDQzs0QkFBSUgsV0FBVTtzQ0FDWmYsY0FBY21CLEdBQUcsQ0FBQyxDQUFDQyx1QkFDbEIsc0JBQUNULGNBQU07b0NBRUxDLFNBQVE7b0NBQ1JHLFdBQVU7b0NBQ1ZNLFNBQVMsSUFBTS9CLGlCQUFpQjhCLE9BQU83QixJQUFJLEVBQUU2QixPQUFPNUIsTUFBTTs7c0RBRTFELHFCQUFDNEIsT0FBT2xCLElBQUk7NENBQUNhLFdBQVU7O3dDQUN0QkssT0FBT25CLEtBQUs7O21DQU5SbUIsT0FBTzdCLElBQUk7Ozs7OzBCQVkxQixxQkFBQytCO2dCQUFNQyxLQUFLdEM7Z0JBQWNNLE1BQUs7Z0JBQU93QixXQUFVO2dCQUFTUyxVQUFVN0I7Ozs7QUFHekUifQ==