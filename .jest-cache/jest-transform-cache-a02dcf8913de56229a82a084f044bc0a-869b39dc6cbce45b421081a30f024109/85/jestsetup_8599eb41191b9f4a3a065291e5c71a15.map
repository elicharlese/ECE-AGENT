{"version":3,"sources":["/Users/elicharlese/CascadeProjects/ECE-AGENT/jest.setup.ts"],"sourcesContent":["import '@testing-library/jest-dom';\nimport 'whatwg-fetch';\n\n// Polyfill TextEncoder/TextDecoder for libraries expecting them in JSDOM/Node\n// Must be before importing MSW server\n// @ts-ignore\nif (typeof (global as any).TextEncoder === 'undefined') {\n  // eslint-disable-next-line @typescript-eslint/no-var-requires\n  const { TextEncoder } = require('util')\n  // @ts-ignore\n  ;(global as any).TextEncoder = TextEncoder\n}\n// @ts-ignore\nif (typeof (global as any).TextDecoder === 'undefined') {\n  // eslint-disable-next-line @typescript-eslint/no-var-requires\n  const { TextDecoder } = require('util')\n  // @ts-ignore\n  ;(global as any).TextDecoder = TextDecoder\n}\n\nimport { server } from './__tests__/msw/server'\n\n// Ensure fetch API classes exist on global for modules that reference them at import time\n// Next's next/server defines classes extending global Request/Response during import\n// which can fail if not set up first in JSDOM.\n// @ts-ignore\nif (typeof globalThis.Request === 'undefined' && typeof window !== 'undefined') {\n  // @ts-ignore\n  globalThis.Request = (window as any).Request\n}\n// @ts-ignore\nif (typeof globalThis.Response === 'undefined' && typeof window !== 'undefined') {\n  // @ts-ignore\n  globalThis.Response = (window as any).Response\n}\n// @ts-ignore\nif (typeof globalThis.Headers === 'undefined' && typeof window !== 'undefined') {\n  // @ts-ignore\n  globalThis.Headers = (window as any).Headers\n}\n\n// Add static Response.json if missing (NextResponse.json relies on it)\n// @ts-ignore\nif (typeof globalThis.Response !== 'undefined' && typeof (globalThis.Response as any).json !== 'function') {\n  // @ts-ignore\n  ;(globalThis.Response as any).json = (data: any, init?: ResponseInit) => {\n    const headers = new Headers(init?.headers || {})\n    if (!headers.has('content-type')) headers.set('content-type', 'application/json')\n    return new Response(JSON.stringify(data), { ...init, headers })\n  }\n}\n\n// Polyfill ResizeObserver for Radix UI components in tests\nclass MockResizeObserver {\n  observe() {}\n  unobserve() {}\n  disconnect() {}\n}\n// @ts-ignore\nif (typeof (global as any).ResizeObserver === 'undefined') {\n  // @ts-ignore\n  ;(global as any).ResizeObserver = MockResizeObserver\n}\n\n// Polyfill scrollIntoView for JSDOM elements used in tests\n// @ts-ignore\nif (typeof window !== 'undefined') {\n  const proto = (window.HTMLElement && window.HTMLElement.prototype) || undefined\n  // @ts-ignore\n  if (proto && typeof proto.scrollIntoView !== 'function') {\n    // @ts-ignore\n    proto.scrollIntoView = function (_options?: ScrollIntoViewOptions) { /* no-op for tests */ }\n  }\n}\n\n// Start MSW before all tests, reset after each, and close after all\nbeforeAll(() => server.listen())\nafterEach(() => server.resetHandlers())\nafterAll(() => server.close())\n"],"names":["global","TextEncoder","require","TextDecoder","globalThis","Request","window","Response","Headers","json","data","init","headers","has","set","JSON","stringify","MockResizeObserver","observe","unobserve","disconnect","ResizeObserver","proto","HTMLElement","prototype","undefined","scrollIntoView","_options","beforeAll","server","listen","afterEach","resetHandlers","afterAll","close"],"mappings":";;;;QAAO;QACA;wBAmBgB;AAjBvB,8EAA8E;AAC9E,sCAAsC;AACtC,aAAa;AACb,IAAI,OAAO,AAACA,OAAeC,WAAW,KAAK,aAAa;IACtD,8DAA8D;IAC9D,MAAM,EAAEA,WAAW,EAAE,GAAGC,QAAQ;IAE9BF,OAAeC,WAAW,GAAGA;AACjC;AACA,aAAa;AACb,IAAI,OAAO,AAACD,OAAeG,WAAW,KAAK,aAAa;IACtD,8DAA8D;IAC9D,MAAM,EAAEA,WAAW,EAAE,GAAGD,QAAQ;IAE9BF,OAAeG,WAAW,GAAGA;AACjC;AAIA,0FAA0F;AAC1F,qFAAqF;AACrF,+CAA+C;AAC/C,aAAa;AACb,IAAI,OAAOC,WAAWC,OAAO,KAAK,eAAe,OAAOC,WAAW,aAAa;IAC9E,aAAa;IACbF,WAAWC,OAAO,GAAG,AAACC,OAAeD,OAAO;AAC9C;AACA,aAAa;AACb,IAAI,OAAOD,WAAWG,QAAQ,KAAK,eAAe,OAAOD,WAAW,aAAa;IAC/E,aAAa;IACbF,WAAWG,QAAQ,GAAG,AAACD,OAAeC,QAAQ;AAChD;AACA,aAAa;AACb,IAAI,OAAOH,WAAWI,OAAO,KAAK,eAAe,OAAOF,WAAW,aAAa;IAC9E,aAAa;IACbF,WAAWI,OAAO,GAAG,AAACF,OAAeE,OAAO;AAC9C;AAEA,uEAAuE;AACvE,aAAa;AACb,IAAI,OAAOJ,WAAWG,QAAQ,KAAK,eAAe,OAAO,AAACH,WAAWG,QAAQ,CAASE,IAAI,KAAK,YAAY;IACzG,aAAa;;IACXL,WAAWG,QAAQ,CAASE,IAAI,GAAG,CAACC,MAAWC;QAC/C,MAAMC,UAAU,IAAIJ,QAAQG,MAAMC,WAAW,CAAC;QAC9C,IAAI,CAACA,QAAQC,GAAG,CAAC,iBAAiBD,QAAQE,GAAG,CAAC,gBAAgB;QAC9D,OAAO,IAAIP,SAASQ,KAAKC,SAAS,CAACN,OAAO;YAAE,GAAGC,IAAI;YAAEC;QAAQ;IAC/D;AACF;AAEA,2DAA2D;AAC3D,MAAMK;IACJC,UAAU,CAAC;IACXC,YAAY,CAAC;IACbC,aAAa,CAAC;AAChB;AACA,aAAa;AACb,IAAI,OAAO,AAACpB,OAAeqB,cAAc,KAAK,aAAa;IACzD,aAAa;;IACXrB,OAAeqB,cAAc,GAAGJ;AACpC;AAEA,2DAA2D;AAC3D,aAAa;AACb,IAAI,OAAOX,WAAW,aAAa;IACjC,MAAMgB,QAAQ,AAAChB,OAAOiB,WAAW,IAAIjB,OAAOiB,WAAW,CAACC,SAAS,IAAKC;IACtE,aAAa;IACb,IAAIH,SAAS,OAAOA,MAAMI,cAAc,KAAK,YAAY;QACvD,aAAa;QACbJ,MAAMI,cAAc,GAAG,SAAUC,QAAgC,GAA0B;IAC7F;AACF;AAEA,oEAAoE;AACpEC,UAAU,IAAMC,cAAM,CAACC,MAAM;AAC7BC,UAAU,IAAMF,cAAM,CAACG,aAAa;AACpCC,SAAS,IAAMJ,cAAM,CAACK,KAAK"}